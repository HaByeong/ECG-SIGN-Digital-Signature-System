# 면접 질문 대답: "이 프로젝트는 어떤 방식으로 보안 요소를 적용하나요?"

## 📋 핵심 답변 구조

### 1단계: 전체 보안 전략 소개 (30초)
### 2단계: 구체적인 보안 조치 설명 (2분)
### 3단계: 한계점 및 개선 계획 (1분)

---

## 🎯 완성된 답변 예시

### 전체 답변 (약 3-4분)

---

"이 프로젝트에서는 **다층 보안(Multi-layered Security)** 접근 방식을 적용했습니다. 크게 5가지 영역에서 보안을 강화했습니다.

---

## 1. **데이터 프라이버시 보호 (Data Privacy Protection)**

**핵심**: 원본 생체 정보를 절대 저장하지 않습니다.

**구현 방식**:
- ECG 신호를 특징 벡터로 변환한 후, **SHA-256 해시 알고리즘**을 사용하여 일방향 해시 값으로 변환합니다.
- 원본 ECG 데이터는 복원 불가능한 해시 값만 저장되므로, 데이터베이스가 유출되더라도 원본 생체 정보는 보호됩니다.
- 이는 **GDPR(개인정보보호법)의 데이터 최소화 원칙**을 준수하는 방식입니다.

**코드 예시**:
```python
# 해시 생성 과정
특징 벡터 → 정규화 → 이산화 → SHA-256 해시 → 64자 16진수
```

---

## 2. **강력한 인증 임계값 (Authentication Threshold)**

**핵심**: False Positive Rate를 최소화합니다.

**구현 방식**:
- 코사인 유사도 기반 인증에서 임계값을 **0.85(85%)**로 설정했습니다.
- 이는 다른 사람이 우연히 통과할 확률을 약 5-15% 수준으로 낮춥니다.
- 생체 인증 분야에서 권장되는 수준입니다.

**효과**:
- 높은 보안성: 타인의 인증 성공 확률 최소화
- 적절한 사용자 경험: 본인 인증 성공률 유지

---

## 3. **세션 관리 및 타임아웃 (Session Management)**

**핵심**: 무단 접근을 방지합니다.

**구현 방식**:
- 로그인 성공 시 **UUID 기반 고유 세션 ID**를 발급합니다.
- 세션은 **1시간 후 자동 만료**되며, 만료된 세션은 정기적으로 정리됩니다.
- 세션 정보에는 사용자 ID, 생성 시간, 만료 시간이 포함됩니다.

**보안 효과**:
- 장시간 비활성 상태에서의 무단 접근 방지
- 토큰 탈취 시 피해 범위 제한

---

## 4. **스레드 안전성 (Thread Safety)**

**핵심**: 동시 접속 환경에서 데이터 무결성 보장

**구현 방식**:
- 사용자 데이터 접근 시 **threading.Lock**을 사용하여 동기화합니다.
- 여러 클라이언트가 동시에 접속해도 데이터 충돌 없이 안전하게 처리됩니다.

```python
with self.lock:
    # 사용자 데이터 수정 작업
```

---

## 5. **입력 검증 및 에러 처리 (Input Validation)**

**핵심**: 악의적인 입력으로부터 시스템 보호

**구현 방식**:
- 사용자 ID는 소문자로 정규화하여 대소문자 오류 방지
- ECG 서명 데이터의 유효성 검증 (빈 벡터, 잘못된 형식 체크)
- 등록 시 중복 사용자 검사
- 예외 상황에 대한 적절한 에러 메시지 반환

---

## 📊 보안 아키텍처 다이어그램

```
┌─────────────────────────────────────────┐
│  Android App (ECG 데이터 수집)          │
└─────────────┬───────────────────────────┘
              │ TCP 통신
              ↓
┌─────────────────────────────────────────┐
│  Python Server                          │
│  ├─ 입력 검증                           │
│  ├─ ECG 신호 처리                       │
│  │   └─ 특징 추출                       │
│  ├─ 서명 생성                           │
│  │   └─ SHA-256 해시                    │
│  └─ 인증 관리                           │
│      ├─ 유사도 비교 (임계값 0.85)      │
│      ├─ 세션 생성 (UUID)                │
│      └─ 스레드 안전 저장                │
└─────────────┬───────────────────────────┘
              │
              ↓
┌─────────────────────────────────────────┐
│  데이터 저장 (users.json)                │
│  ├─ 해시 값만 저장                      │
│  └─ 원본 데이터 없음                    │
└─────────────────────────────────────────┘
```

---

## ⚠️ 현재 한계점 및 개선 계획

### 현재 한계점

1. **전송 계층 암호화 부재**
   - TCP 통신이 평문으로 전송됨
   - 중간자 공격(MITM)에 취약할 수 있음

2. **저장 데이터 암호화 부재**
   - JSON 파일에 평문으로 저장 (해시 값은 안전하지만 메타데이터는 평문)

3. **세션 토큰 단순성**
   - JWT 같은 표준 토큰 대신 단순 UUID 사용
   - 토큰 검증 로직이 단순함

### 개선 계획

**단기 (1-2개월)**:
1. ✅ **임계값 상향 완료**: 0.75 → 0.85
2. 🔄 **TLS/SSL 적용**: TCP 통신 암호화
3. 🔄 **데이터베이스 전환**: JSON → SQLite/PostgreSQL

**중기 (3-6개월)**:
4. 📋 **JWT 토큰 도입**: 표준 기반 세션 관리
5. 📋 **데이터 암호화**: 저장 시 추가 암호화 레이어
6. 📋 **감사 로그**: 모든 인증 시도 기록

**장기 (6개월 이상)**:
7. 🎯 **다중 인증 (MFA)**: ECG + 추가 인증 수단
8. 🎯 **연속 인증**: 세션 중 주기적 재인증
9. 🎯 **위협 탐지**: 비정상 패턴 감지 시스템

---

## 💡 추가 설명 (질문 시 대답할 내용)

### Q: 왜 해시를 사용하나요?
"해시는 일방향 함수이므로, 해시 값만으로는 원본 데이터를 복원할 수 없습니다. 
따라서 데이터베이스가 유출되더라도 공격자는 원본 ECG 신호를 얻을 수 없어 
사용자의 프라이버시가 보호됩니다. 
또한 해시는 고정 길이이므로 저장 공간도 효율적입니다."

### Q: 임계값 0.85는 어떻게 결정했나요?
"생체 인증 분야의 일반적인 권장값을 참고했으며, 
현재는 더미 데이터로 테스트한 결과입니다. 
향후 실제 사용자 데이터를 수집하여 ROC 곡선을 그려 
False Acceptance Rate와 False Rejection Rate의 균형점(EER)을 찾아 
최적의 임계값을 결정할 예정입니다."

### Q: 실제 운영 환경에서 어떤 보안을 추가하시겠습니까?
"실제 운영 환경에서는 다음과 같이 보안을 강화하겠습니다:
1. **TLS/SSL**: 모든 통신 암호화
2. **데이터베이스 암호화**: 저장 시 추가 암호화
3. **접근 제어**: IP 화이트리스트, Rate Limiting
4. **모니터링**: 의심스러운 접근 시도 감지 및 알림
5. **백업 및 복구**: 정기적인 백업 및 재해 복구 계획"

---

## 🎓 면접 팁

### 1. 구조화된 답변
- 먼저 전체 전략 소개
- 구체적인 보안 조치 설명
- 한계점과 개선 계획 제시

### 2. 기술적 디테일
- 코드 레벨에서의 구현 설명
- 보안 개념과 연결
- 실제 효과 언급

### 3. 솔직성
- 한계점을 숨기지 않기
- 개선 계획을 명확히 제시
- 실제 운영 환경 고려

### 4. 전문성
- 보안 용어 정확히 사용
- 산업 표준 참조
- 보안 모범 사례 준수 의지

---

## 📝 핵심 키워드

**반드시 언급할 키워드**:
- SHA-256 해시 (일방향 함수)
- 프라이버시 보호 (원본 데이터 미저장)
- 임계값 0.85 (False Positive Rate 최소화)
- 세션 타임아웃 (1시간)
- 스레드 안전성
- 입력 검증

**개선 계획 키워드**:
- TLS/SSL (전송 암호화)
- JWT 토큰
- 데이터베이스 암호화
- 다중 인증 (MFA)
- 감사 로그

